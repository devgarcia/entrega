<% provide(:page_title, "Senders") %>


<h1 class='headingspace'>Senders (<%= Sender.all.count %>)</h1>

<div class="row card indextable">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th><%= Sender.human_attribute_name(:telephone) %></th>
        <th>Email</th>
        <th>Address</th>
        <!-- <th>Coordinates</th> -->
        <th>Status</th>
        <th> Total Orders </th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @users.each do |sender| %>
        <tr>
          <td><%= sender.name %></td>
          <td><%= sender.telephone %></td>
          <td><%= sender.email %></td>
          <td><%= address(sender, 0) %></td>
          <!-- <td><%#= coordinates(sender, 0).to_dms %></td> -->
          <td><%= sender.status %></td>
          <td class="d-flex justify-content-center"><%= sender.orders.size %></td>
          <td><%= link_to sender, 'data-turbolinks': false do %><span class="fa fa-eye"></span><% end %></td>
          <td><%= link_to edit_sender_path(sender) do %><span class="fa fa-edit"></span><% end %></td>
          <% if sender.orders.size == 0 %>
            <td><%= link_to sender, method: :delete, data: { confirm: 'Are you sure?' } do %><span class="fa fa-trash"></span><% end %></td> 
          <% else %>
            <td></td>
          <% end %>          
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<hr>
<%= link_to 'New Sender', new_sender_path %>
<hr>
  <!-- <div class="d-flex justify-content-center my-5">
    <%#= render 'senders/map' %>
  </div>    NO WORKING. AWAITING TO SEE IF IS NEEDED IN THE FUTURE. DONT THINK SO.-->